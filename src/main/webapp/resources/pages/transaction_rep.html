<!Doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>BCS</title>

</head>
<body ng-controller="TransactionRepController">
<div ng-include="'pages/common/header.html'"></div>
<div class="panel panel-default">
<div class="panel-body">
<div class="table-responsive">
	<table class="table table-striped table-hover">
	  <thead>
	    <tr>
	     	<th>操作</th>
			<th class="text-center">交易品种</th>
			<th class="text-center">成交日期</th>
			<th class="text-center">成交时间</th>
			<th class="text-center">成交编号</th>
			<th class="text-center">发起方机构代码</th>
			<th class="text-center">币种</th>
			<th class="text-center">交易方向</th>
			<th class="text-center">交易金额</th>
			<th class="text-center">利率</th>
			<th class="text-center">计息基准</th>
			<th class="text-center">期限</th>
			<th class="text-center">起息日</th>
			<th class="text-center">到期日</th>
			<th class="text-center">利息</th>
			<th class="text-center">到期还款金额</th>
			<th class="text-center">交易状态</th>
			<th class="text-center">交易同步状态</th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr ng-repeat="Transaction in Transactions" class="text-center">
	      <td>
	      	 <button type="button" class="btn btn-info btn-xs" data-toggle="modal" data-target="#myModal" ng-click="deal($index);" >DEAL</button>
		  </td>
		  
          <td>{{ Transaction.TransactionType }}</td>
	      <td>{{ Transaction.TransactionDate }}</td>
	      <td>{{ Transaction.TransactionTime }}</td>
	      <td>{{ Transaction.TransactionID }}</td>
	      <td>{{ Transaction.SenderInstitutionCode }}</td>
	      <td>{{ Transaction.Currency }}</td>
	      <td>{{ Transaction.Side }}</td>
	      <td>{{ Transaction.Amount }}</td>
	      <td>{{ Transaction.Rate }}%</td>
	      <td>{{ Transaction.DayCountConvention }}</td>
	      <td>{{ Transaction.Tenor }}</td>
	      <td>{{ Transaction.ValueDate }}</td>
	      <td>{{ Transaction.DueDate }}</td>
	      <td>{{ Transaction.Interest }}</td>
	      <td>{{ Transaction.TotalRepayment }}</td>
	      <td>{{ Transaction.TransactionStatus }}</td>
	      <td>{{ Transaction.TransactionSyncStatus }}</td>
	    </tr>
	  </tbody>
	</table>
</div>
</div>
</div>
<!--paging  -->
<div class="row">
	<div class="col-lg-2  pull-right">
		<ul class="pagination text-right" style="margin: 0px;" >  
		    <li ng-class="{true:'disabled'}[p_current==1]"><a href="javascript:void(0);" ng-click="p_index()">首页</a></li>  
		    <li ng-repeat="page in pages" ng-class="{true:'active'}[p_current==page]"><a href="javascript:void(0);" ng-click="load_page(page)">{{ page }}</a></li>  
		    <li ng-class="{true:'disabled'}[p_current==p_all_page]"><a href="javascript:void(0);" ng-click="p_last()">尾页</a></li> 
		</ul>  
		<span style="vertical-align: 12px;">  共：{{count}} 条</span>
	</div>
</div>
<!--模态框  -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width:800px;">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</button>
				<h4 class="modal-title" id="myModalLabel">Order:{{Transaction.TransactionID}}</h4>
			</div>
			<div class="modal-body">
			<form class="form-horizontal" role="form" >
						<div class="form-group">					   
					  	 <label for="firstname" class="col-sm-3 control-label">交易名称</label>
							<div class="col-sm-3">
								 <select class="form-control" ng-disabled="true" >
								 	<option>{{Transaction.Side}}</option>
								</select>
							</div>
							<label for="name" class="col-sm-3 control-label">交易方向</label>
							<div class="col-sm-3">
								 <label class="radio-inline">
							  	<input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" checked="checked"> 存入
								</label>
								<label class="radio-inline">
							  	<input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">存出
					 			</label>
							</div>
						</div>	

					  <div class="form-group">
					  	<label for="name" class="col-sm-3 control-label">交易方向</label>
							<div class="col-sm-3">
								 <label class="radio-inline">
							  	<input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" checked="checked"> 存入
								</label>
								<label class="radio-inline">
							  	<input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">存出
					 			</label>
							</div>
						<label for="name" class="col-sm-3 control-label">对手方机构</label>
							<div class="col-sm-3">
							 <select class="form-control" ng-disabled="true">
								  <option>{{Transaction.SenderInstitutionCode}}</option>
								</select>
							</div>				   
					  	</div> 
					 	
					 <div class="form-group">
					  <label for="name" class="col-sm-3 control-label">币种</label>
					 	<div class="col-sm-3">
							<select class="form-control" ng-disabled="true">
								<option>{{Transaction.Currency}}</option>
							</select>
						</div>
						<label for="name" class="col-sm-3 control-label">计息基准</label>
						<label ng-model="benchmark" class="col-sm-2 control-label">360</label>					 
					  </div>
						
					<div class="form-group">
					  <label for="name" class="col-sm-3 control-label">起息日</label>
					 	<div class="col-sm-3">
							<div class="input-group date" data-date="" data-date-format="yyyy/mm/dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
				                <input class="form-control" ng-model="Transaction.ValueDate" id="interview_time" readonly ng-disabled="true">
								<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
				             </div>
						</div>
						<label for="name" class="col-sm-3 control-label">期限</label>
						<div class="col-sm-3">
							<select class="form-control" ng-disabled="true" >
								<option>{{Transaction.Tenor}}</option>
							</select>
						</div>
					  </div>
					  
					 <div class="form-group">
					  <label for="name" class="col-sm-3 control-label">还款日</label>
					  	<div class="col-sm-3">
							<div class="input-group date" data-date="" data-date-format="yyyy/mm/dd" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
				                <input class="form-control" ng-model="Transaction.ValueDate" id="interview_time" readonly ng-disabled="true">
								<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
				             </div>
						</div>
						<label for="name" class="col-sm-3 control-label">利率</label>
						<div class="col-sm-2">
							<input type="text" class="form-control"  ng-model="Transaction.Rate" ng-disabled="true" id="name">
						</div>
						<label for="name" class="col-sm-1 control-label">%</label>
					  </div>
					  
					  <div class="form-group">
					  <label for="name" class="col-sm-3 control-label">交易金额</label>
					 	<div class="col-sm-3">
							<input type="text" class="form-control"  ng-model="Transaction.Amount" ng-disabled="true" id="name" placeholder="">
						</div>
						<label for="name" class="col-sm-3 control-label">利息</label>
						<label ng-model="benchmark" class="col-sm-2 control-label">0.00</label>					 
					  </div>
			  
					   <div class="form-group">
						  <label for="name" class="col-sm-3 control-label">到期还款金额</label>
						 	<div class="col-sm-3">
								<input type="text" class="form-control"  ng-model="Transaction.TotalRepayment" id="name" placeholder="" ng-disabled="true">
							</div>
							<label for="name" class="col-sm-3 control-label">本方清算账户</label>
						 	<div class="col-sm-3">
								<input type="text" class="form-control"  ng-model="Transaction.SettlementAccount" id="name" placeholder="" >
							</div>				 
					  </div>	       					 					 				
					  </div>
			  			<div class="text-center">
							<button type="button" class="btn btn-default" data-dismiss="modal" style="margin-right: 100px;" >接受</button>
							<button type="button" class="btn btn-primary">拒绝</button>
						</div>						  
					 
					</form>
			</div>

		</div>
	</div>
</div>
</body>
<script>
	function deal(obj){
	var tds=$(obj).parent().parent().find('td');

		$('#aa').val(tds.eq(2).text());
	}
</script>

</html>